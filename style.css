body { background-color: #ffffff; text-align: center; font-family: sans-serif; margin: 0; padding-bottom: 120px; color: #333; }
.header { padding: 15px; position: relative; background: #fff; backdrop-filter: blur(10px); z-index: 100; border-bottom: 1px solid #eee; }
.filter-group { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; }
.filter-btn { padding: 6px 14px; border: 1px solid #eee; border-radius: 20px; cursor: pointer; background: white; font-size: 13px; transition: 0.2s; }
.filter-btn.active { background: #333; color: white; border-color: #333; }

.group-section { text-align: left; max-width: 1100px; margin: 30px auto; padding: 0 20px; }
.group-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; }
.group-title span { color: #bbb; margin: 0 10px; font-weight: normal; }

.grid { 
    display: grid; 
    /* PC에서는 너무 작지 않게 기존 설정 유지 혹은 살짝 조정 */
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); 
    gap: 12px; 
}

.poca-card { background: #f9f9f9; border-radius: 10px; overflow: hidden; cursor: pointer; transition: 0.3s; position: relative; display: flex; flex-direction: column; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.poca-card img { width: 100%; aspect-ratio: 2 / 3; object-fit: cover; opacity: 0.25; transition: 0.3s; display: block; }
.poca-card.collected img { opacity: 1; }
.poca-label {
    background: rgba(0, 0, 0, 0.05);
    color: #666;
    font-size: 10px;
    padding: 4px 0;
    text-align: center; /* 이 부분이 중앙 정렬을 만듭니다 */
    width: 100%;        /* 너비를 꽉 채워야 중앙 정렬이 정확히 보입니다 */
    display: block;     /* 블록 요소로 설정 */
}
/* 수집된 포카의 라벨 스타일 */
.poca-card.collected .poca-category {
    background-color: rgba(0, 0, 0, 0.7); /* 배경을 조금 더 진하게 해서 글씨가 잘 보이게 */
    color: #ffffff; /* 글자색은 흰색 유지 (이미지가 밝아지므로 흰색이 더 잘 보임) */
    font-weight: 600; /* 글자를 조금 더 두껍게 */
    opacity: 1; /* 투명도 없이 선명하게 */
}

/* 만약 수집된 카드에서 글자색만 검정으로 바꾸고 싶다면 아래처럼 하세요 */
/* .poca-card.collected .poca-category {
    background-color: rgba(255, 255, 255, 0.8); 
    color: #000000;
}
*/

.footer-controls { position: fixed; bottom: 30px; width: 100%; display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; padding: 0 30px; box-sizing: border-box; z-index: 200; pointer-events: none; }
.footer-left, .footer-center, .footer-right { pointer-events: auto; display: flex; align-items: center; }
.footer-center { justify-content: center; }
.footer-right { justify-content: flex-end; }

.special-btn { background: white; border: 1px solid #ddd; padding: 10px 18px; border-radius: 25px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-size: 13px; }
.counter-pill { background: #333; color: white; padding: 10px 20px; border-radius: 25px; font-weight: bold; display: flex; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
#reset-btn { margin-left: 15px; background: #ff4d4d; color: white; border: none; border-radius: 8px; padding: 3px 8px; cursor: pointer; font-size: 10px; font-weight: bold; }

.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); }
.modal-content { position: relative; background: white; margin: 8vh auto; padding: 20px; width: 85%; max-width: 320px; border-radius: 20px; text-align: left; }
.modal-content img { width: 100%; border-radius: 12px; display: block; margin-bottom: 15px; }
.close-btn { position: absolute; top: 15px; right: 20px; font-size: 28px; cursor: pointer; color: #333; z-index: 10; }
#modal-info { padding: 0 10px; text-align: left; }

/* 모바일 화면 (가로 600px 이하) 강제 설정 */
@media (max-width: 600px) {
    .grid {
        /* 화면을 무조건 4등분 합니다 */
        grid-template-columns: repeat(4, 1fr) !important; 
        gap: 6px !important; /* 모바일은 좁으니까 간격도 줄임 */
        padding: 5px !important;
    }

    .poca-card {
        padding: 0 !important;
    }

    .poca-card img {
        width: 100%;
        height: auto;
    }

    /* 이름표(category) 글자가 너무 크면 사진을 가리니까 작게 조절 */
    .poca-label {
        font-size: 8px !important;
        padding: 2px 0 !important;
    }

/* 보기 모드 전환 버튼 스타일 조정 */
    #view-mode-btn {
        padding: 8px 12px !important; /* 안쪽 여백 줄임 */
        font-size: 13px !important;    /* 글자 크기 살짝 줄임 */
        min-width: 60px !important;   /* 최소 너비 고정 */
        white-space: nowrap !important; /* 글자가 절대 줄바꿈 되지 않게 함 */
    }

    .poca-label {
        font-size: 8px !important;
        padding: 3px 0 !important;
        text-align: center !important; /* 모바일에서 무조건 중앙 정렬 */
    }
}

.search-container {
    margin-bottom: 15px;
    width: 100%;
}

#search-input {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 20px; /* 둥근 모양 */
    font-size: 14px;
    outline: none;
    box-sizing: border-box; /* 패딩이 너비에 포함되도록 */
}

#search-input:focus {
    border-color: #007bff; /* 클릭 시 파란색 강조 */
}

/* 사진들을 가로로 정렬해주는 핵심 설정 */
.grid {
    display: grid;
    /* 화면 너비에 맞춰 자동으로 개수 조절 (최소 120px 너비) */
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); 
    gap: 15px; /* 사진 사이 간격 */
    padding: 20px;
    justify-items: center;
}

/* 1. 바구니 스타일: 가로로 꽉 차게 정렬 */
/* 1. 바구니 스타일: 가로로 꽉 차게 정렬 */
#poca-container, #pcGrid, .grid {
    display: grid !important;
    /* PC: 최소 130px 유지 */
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)) !important;
    gap: 15px !important;
    padding: 20px;
    width: 95%;
    margin: 0 auto;
}

/* 2. 개별 포카 카드 (고정 너비 삭제) */
.poca-card {
    /* width: 130px; 를 지우고 100%로 변경했습니다. */
    width: 100%; 
    max-width: 150px; /* PC에서 너무 커지는 것만 방지 */
    position: relative;
    cursor: pointer;
    transition: transform 0.2s;
    margin: 0 auto 10px;
}

.poca-card:hover {
    transform: translateY(-5px);
}

.poca-card img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    display: block;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* 3. 이미지 위 왼쪽 하단 라벨 */
.poca-label {
    position: absolute;
    bottom: 2px;
    left: 2px;
    padding: 5px;
    background: none !important;
    border: none !important;
    pointer-events: none;
    z-index: 5;
}

/* 4. 폴더명(카테고리) 디자인 */
.poca-category {
    font-size: 10px;
    color: #ffffff;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 2px 5px;
    border-radius: 4px;
    display: block;
    width: fit-content;
    font-weight: 500;
    line-height: 1;
}

/* 5. 수집 안 된 포카 흐리게 */
.poca-card:not(.collected) img {
    filter: grayscale(100%) opacity(0.5);
}

/* 6. 우클릭 상세 정보 모달 스타일 */
.modal {
    display: none; 
    position: fixed; 
    z-index: 9999; 
    left: 0; top: 0; width: 100%; height: 100%; 
    background-color: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: white;
    padding: 25px;
    border-radius: 20px;
    width: 320px;
    text-align: center;
    position: relative;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

#modal-img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    margin-bottom: 20px;
}

#modal-info {
    text-align: left;
    padding: 0 5px;
    font-size: 15px;
    color: #333;
    line-height: 1.8;
}

.close-btn {
    position: absolute;
    top: 15px; right: 20px;
    font-size: 28px;
    color: #999;
    cursor: pointer;
    line-height: 1;
}

/* 7. 모바일용 레이아웃 (한 줄에 4개 보장) */
@media (max-width: 600px) {
    #poca-container, #pcGrid, .grid {
        /* 한 줄에 4개가 뜰 수 있도록 최소폭을 75px로 조정 */
        grid-template-columns: repeat(auto-fill, minmax(75px, 1fr)) !important;
        gap: 8px !important;
        padding: 10px;
    }

    .poca-card {
        max-width: 100%; /* 모바일 칸 너비에 맞춤 */
    }

    .poca-category {
        font-size: 8px;
        padding: 1px 4px;
    }
}